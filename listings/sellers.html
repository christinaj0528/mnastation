<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>M&A STATION | ë§¤ë„ê¸°ì—… í˜„í™©</title>
    <link rel="stylesheet" href="../assets/css/global.css" />
    <link rel="stylesheet" href="../assets/css/layout.css" />
    <link rel="stylesheet" href="../assets/css/components.css" />
    <link rel="stylesheet" href="../assets/css/responsive.css" />
    <!-- âš ï¸ ì¤‘ìš”: í—¤ë”ì™€ í•˜ë‹¨íƒ­ì€ í•„ìˆ˜ ìš”ì†Œì…ë‹ˆë‹¤. ì‚­ì œí•˜ì§€ ë§ˆì„¸ìš”! -->
    <style>
      body, html {
        overflow-x: hidden;
        overflow-y: auto;
        height: auto;
      }

      .page-content {
        min-height: calc(100vh - var(--header-height-mobile) - 70px);
        padding-bottom: 80px;
        overflow-y: auto;
      }

      .slider-container {
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        padding: var(--spacing-lg) var(--spacing-md);
      }

      .slider-header {
        margin-bottom: var(--spacing-xl);
      }

      .slider-title {
        font-size: 28px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--spacing-sm);
        letter-spacing: -0.5px;
      }

      .slider-subtitle {
        font-size: var(--font-size-base);
        color: var(--text-muted);
        line-height: 1.6;
      }

      .list-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: var(--spacing-lg);
        padding: 0;
        max-width: 1400px;
        margin: 0 auto;
      }

      .list-item {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--border-light);
        border-radius: 16px;
        padding: var(--spacing-xl);
        cursor: pointer;
        transition: all var(--transition-normal);
        text-decoration: none;
        color: var(--text-primary);
        display: block;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
      }

      .list-item:hover {
        transform: translateY(-4px);
        background: rgba(255, 255, 255, 0.08);
        border-color: var(--accent-primary);
        box-shadow: 0 8px 24px rgba(77, 183, 255, 0.2);
      }

      /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
      .company-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(8px);
        z-index: 1000;
        overflow-y: auto;
        padding: var(--spacing-lg);
        box-sizing: border-box;
      }

      .company-modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: rgba(20, 20, 20, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-light);
        border-radius: 20px;
        padding: var(--spacing-xxl);
        max-width: 700px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        position: relative;
        animation: modalFadeIn 0.3s ease;
      }

      @keyframes modalFadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: var(--spacing-xl);
        padding-bottom: var(--spacing-lg);
        border-bottom: 1px solid var(--border-light);
      }

      .modal-title-section {
        flex: 1;
      }

      .modal-company-id {
        font-size: var(--font-size-small);
        color: var(--text-muted);
        margin-bottom: var(--spacing-xs);
      }

      .modal-company-name {
        font-size: 28px;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--spacing-sm);
      }

      .modal-status {
        display: inline-block;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: var(--font-size-xs);
        font-weight: 500;
        margin-top: var(--spacing-xs);
      }

      .modal-close {
        background: transparent;
        border: none;
        color: var(--text-muted);
        font-size: 28px;
        cursor: pointer;
        padding: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all var(--transition-fast);
      }

      .modal-close:hover {
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-primary);
      }

      .modal-body {
        margin-bottom: var(--spacing-xl);
      }

      .modal-info-section {
        margin-bottom: var(--spacing-lg);
      }

      .modal-info-title {
        font-size: var(--font-size-base);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-xs);
        border-bottom: 1px solid var(--border-light);
      }

      .modal-info-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
      }

      .modal-info-item {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xs);
      }

      .modal-info-label {
        font-size: var(--font-size-xs);
        color: var(--text-muted);
      }

      .modal-info-value {
        font-size: var(--font-size-base);
        color: var(--text-primary);
        font-weight: 500;
      }

      .modal-description {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid var(--border-light);
        border-radius: 12px;
        padding: var(--spacing-lg);
        margin-top: var(--spacing-md);
        line-height: 1.6;
        color: var(--text-primary);
      }

      .modal-footer {
        display: flex;
        gap: var(--spacing-md);
        justify-content: flex-end;
        padding-top: var(--spacing-lg);
        border-top: 1px solid var(--border-light);
      }

      .modal-btn {
        padding: 12px 24px;
        border-radius: 8px;
        border: none;
        font-size: var(--font-size-base);
        font-weight: 500;
        cursor: pointer;
        transition: all var(--transition-fast);
      }

      .modal-btn-primary {
        background: linear-gradient(120deg, #4db7ff, #1f6fe5);
        color: #081627;
      }

      .modal-btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(77, 183, 255, 0.4);
      }

      .modal-btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-primary);
      }

      .modal-btn-secondary:hover {
        background: rgba(255, 255, 255, 0.15);
      }

      @media (max-width: 768px) {
        .company-modal {
          padding: var(--spacing-md);
        }

        .modal-content {
          padding: var(--spacing-lg);
          max-height: 95vh;
        }

        .modal-company-name {
          font-size: 22px;
        }

        .modal-info-grid {
          grid-template-columns: 1fr;
        }

        .modal-footer {
          flex-direction: column;
        }

        .modal-btn {
          width: 100%;
        }
      }

      .item-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: var(--spacing-md);
        flex-wrap: wrap;
        gap: var(--spacing-xs);
      }

      .item-id {
        font-size: var(--font-size-xs);
        color: var(--text-nav);
        font-weight: 600;
      }

      .item-category {
        display: inline-block;
        padding: 6px 14px;
        background: var(--accent-bg);
        color: var(--accent-primary);
        font-size: var(--font-size-xs);
        font-weight: 600;
        border-radius: 12px;
        white-space: nowrap;
      }

      /* ë§¤ì¹­ ìƒíƒœ ìƒ‰ìƒ */
      .item-category.status-waiting {
        background: rgba(255, 193, 7, 0.2);
        color: #ffc107;
      }

      .item-category.status-matching {
        background: rgba(77, 183, 255, 0.2);
        color: #4db7ff;
      }

      .item-category.status-closed {
        background: rgba(158, 158, 158, 0.2);
        color: #9e9e9e;
      }

      .item-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: var(--spacing-md);
        line-height: 1.4;
        color: var(--text-primary);
      }

      .item-info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-md);
      }

      .info-item {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .info-label {
        font-size: var(--font-size-xs);
        color: var(--text-muted);
        opacity: 0.8;
        font-weight: 500;
      }

      .info-value {
        font-size: var(--font-size-small);
        font-weight: 600;
        color: var(--text-primary);
        word-break: break-word;
      }

      .loading {
        text-align: center;
        padding: var(--spacing-xxl);
        color: var(--text-muted);
        display: none;
        font-size: var(--font-size-small);
      }

      .loading.active {
        display: block;
      }

      /* ëª¨ë°”ì¼ ìµœì í™” */
      @media (max-width: 768px) {
        .page-content {
          padding-top: calc(var(--header-height-mobile) + var(--spacing-md));
          padding-bottom: calc(80px + var(--spacing-md));
        }

        .slider-container {
          padding: var(--spacing-md) var(--spacing-sm);
          width: 100%;
          max-width: 100%;
        }

        .slider-header {
          margin-bottom: var(--spacing-lg);
          padding: 0 var(--spacing-xs);
        }

        .slider-title {
          font-size: 22px;
          margin-bottom: var(--spacing-xs);
        }

        .slider-subtitle {
          font-size: 14px;
          line-height: 1.5;
        }

        .list-container {
          grid-template-columns: 1fr;
          gap: var(--spacing-lg);
          padding: 0;
          width: 100%;
          max-width: 100%;
        }

        .list-item {
          padding: var(--spacing-xl);
          border-radius: 16px;
          width: 100%;
          box-sizing: border-box;
        }

        .item-header {
          margin-bottom: var(--spacing-md);
        }

        .item-id {
          font-size: var(--font-size-xs);
        }

        .item-category {
          padding: 6px 14px;
          font-size: var(--font-size-xs);
        }

        .item-title {
          font-size: 1.25rem;
          margin-bottom: var(--spacing-md);
        }

        .item-info-grid {
          grid-template-columns: 1fr 1fr;
          gap: var(--spacing-md);
          margin-bottom: var(--spacing-md);
        }

        .info-item {
          gap: 6px;
          padding: 0;
          border-bottom: none;
        }

        .info-label {
          font-size: var(--font-size-xs);
        }

        .info-value {
          font-size: var(--font-size-small);
        }

        .loading {
          padding: var(--spacing-xl);
          font-size: 13px;
        }
      }

      @media (max-width: 480px) {
        .slider-container {
          padding: var(--spacing-md) var(--spacing-xs);
        }

        .slider-header {
          padding: 0;
        }

        .slider-title {
          font-size: 20px;
        }

        .slider-subtitle {
          font-size: 13px;
        }

        .list-container {
          gap: var(--spacing-sm);
        }

        .list-item {
          padding: var(--spacing-md);
          width: 100%;
        }

        .item-title {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- âš ï¸ ì¤‘ìš”: í—¤ë” ì‹œì‘ - ì‚­ì œí•˜ì§€ ë§ˆì„¸ìš”! -->
    <header class="top-bar">
      <a href="../index.html" class="brand" style="text-decoration: none; color: inherit;">M&A STATION</a>
      <div class="top-actions">
        <button id="menuToggle" class="hamburger" aria-label="ë©”ë‰´ ì—´ê¸°">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </header>

    <!-- í–„ë²„ê±° ë©”ë‰´ëŠ” menu.jsì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    <aside class="menu-panel" id="menuPanel" aria-hidden="true"></aside>
    <!-- âš ï¸ ì¤‘ìš”: í—¤ë” ë -->

    <main class="page-content">
      <div class="slider-container" style="max-width: 1400px; margin: 0 auto;">
        <div class="slider-header">
          <div>
            <h1 class="slider-title">ë§¤ë„ê¸°ì—… í˜„í™©</h1>
            <p class="slider-subtitle">ë§¤ê°ì„ ê³ ë ¤í•˜ëŠ” ê¸°ì—…ë“¤ì˜ ì „ì²´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìŠ¤í¬ë¡¤í•˜ì—¬ ë” ë§ì€ ê¸°ì—…ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
        <div class="list-container" id="listContainer">
          <!-- Items will be loaded here -->
        </div>
        <div class="loading" id="loading">ë¡œë”© ì¤‘...</div>
      </div>
    </main>

    <nav class="bottom-tabs">
      <a href="../index.html" class="tab-item active" data-index="0">
        <div class="icon">ğŸ </div>
        <div class="label">í™ˆ</div>
      </a>
      <a href="../apply/apply_seller.html" class="tab-item" data-index="1">
        <div class="icon">ğŸ“</div>
        <div class="label">ë“±ë¡</div>
      </a>
      <a href="../insights/cases.html" class="tab-item" data-index="3">
        <div class="icon">ğŸ“Š</div>
        <div class="label">ì¸ì‚¬ì´íŠ¸</div>
      </a>
      <a href="../index.html#s4" class="tab-item" data-index="4">
        <div class="icon">ğŸ’¬</div>
        <div class="label">ìƒë‹´</div>
      </a>
      <a href="../index.html#s5" class="tab-item" data-index="5">
        <div class="icon">ğŸ‘¤</div>
        <div class="label">ë§ˆì´í˜ì´ì§€</div>
      </a>
    </nav>

    <script src="../assets/js/ui.js"></script>
    <script>
      // Dummy data for sellers - í¬ë§ë§¤ë„ì•¡: 0~200ì–µì› (20ì–µ ë‹¨ìœ„, ê· ë“± ë¶„í¬)
      // ìë³¸ê¸ˆì€ í¬ë§ë§¤ë„ì•¡ì˜ 3~10ë°° ë²”ìœ„ ë‚´ë¡œ ì„¤ì •
      // ê´€ë¦¬ë²ˆí˜¸: MN-2025-ì„ì˜ê°’ í˜•ì‹
      let sellersData = [
        { id: 'MN-2025-001', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ê¸€ë¡œë²Œ AI ìŠ¤íƒ€íŠ¸ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '0~20ì–µ', capital: '2ì–µì›' },
        { id: 'MN-2025-002', category: 'ì œì¡°ì—…', name: 'ì „ìë¶€í’ˆ ì œì¡°ì‚¬', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '0~20ì–µ', capital: '3ì–µì›' },
        { id: 'MN-2025-003', category: 'ì„œë¹„ìŠ¤ì—…', name: 'í—¬ìŠ¤ì¼€ì–´ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '0~20ì–µ', capital: '2.5ì–µì›' },
        { id: 'MN-2025-004', category: 'ìœ í†µ/ë¬¼ë¥˜', name: 'ë¬¼ë¥˜ ì†”ë£¨ì…˜ ê¸°ì—…', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '20~40ì–µ', capital: '4ì–µì›' },
        { id: 'MN-2025-005', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ê²Œì„ ê°œë°œ ìŠ¤íŠœë””ì˜¤', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '20~40ì–µ', capital: '5ì–µì›' },
        { id: 'MN-2025-006', category: 'ê¸ˆìœµ/í•€í…Œí¬', name: 'í•€í…Œí¬ ìŠ¤íƒ€íŠ¸ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '20~40ì–µ', capital: '4.5ì–µì›' },
        { id: 'MN-2025-007', category: 'êµìœ¡/ì—ë“€í…Œí¬', name: 'ì˜¨ë¼ì¸ êµìœ¡ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '40~60ì–µ', capital: '6ì–µì›' },
        { id: 'MN-2025-008', category: 'ì œì¡°ì—…', name: 'ì¹œí™˜ê²½ ì†Œì¬ ì œì¡°ì‚¬', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '40~60ì–µ', capital: '8ì–µì›' },
        { id: 'MN-2025-009', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ì»¨ì„¤íŒ… ê¸°ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '40~60ì–µ', capital: '7ì–µì›' },
        { id: 'MN-2025-010', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ê¸°ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '60~80ì–µ', capital: '9ì–µì›' },
        { id: 'MN-2025-011', category: 'ì œì¡°ì—…', name: 'ë°˜ë„ì²´ ë¶€í’ˆ ì œì¡°ì‚¬', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '60~80ì–µ', capital: '12ì–µì›' },
        { id: 'MN-2025-012', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ë””ì§€í„¸ ë§ˆì¼€íŒ… ëŒ€í–‰ì‚¬', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '60~80ì–µ', capital: '10ì–µì›' },
        { id: 'MN-2025-013', category: 'ìœ í†µ/ë¬¼ë¥˜', name: 'ì „ììƒê±°ë˜ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '80~100ì–µ', capital: '11ì–µì›' },
        { id: 'MN-2025-014', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ëª¨ë°”ì¼ ì•± ê°œë°œì‚¬', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '80~100ì–µ', capital: '12ì–µì›' },
        { id: 'MN-2025-015', category: 'ì œì¡°ì—…', name: 'ë°”ì´ì˜¤ ì˜ë£Œê¸°ê¸° ì œì¡°ì‚¬', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '80~100ì–µ', capital: '15ì–µì›' },
        { id: 'MN-2025-016', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ë¶€ë™ì‚° í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '100~120ì–µ', capital: '13ì–µì›' },
        { id: 'MN-2025-017', category: 'ê¸ˆìœµ/í•€í…Œí¬', name: 'ì•”í˜¸í™”í ê±°ë˜ì†Œ', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '100~120ì–µ', capital: '14ì–µì›' },
        { id: 'MN-2025-018', category: 'êµìœ¡/ì—ë“€í…Œí¬', name: 'ì½”ë”© êµìœ¡ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '100~120ì–µ', capital: '15ì–µì›' },
        { id: 'MN-2025-019', category: 'ì œì¡°ì—…', name: 'ì „ê¸°ì°¨ ë°°í„°ë¦¬ ì œì¡°ì‚¬', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '120~140ì–µ', capital: '18ì–µì›' },
        { id: 'MN-2025-020', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ë¸”ë¡ì²´ì¸ ì†”ë£¨ì…˜ ê¸°ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '120~140ì–µ', capital: '16ì–µì›' },
        { id: 'MN-2025-021', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ìŒì‹ ë°°ë‹¬ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '120~140ì–µ', capital: '17ì–µì›' },
        { id: 'MN-2025-022', category: 'ìœ í†µ/ë¬¼ë¥˜', name: 'í•´ì™¸ì§êµ¬ ëŒ€í–‰ ì„œë¹„ìŠ¤', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '140~160ì–µ', capital: '18ì–µì›' },
        { id: 'MN-2025-023', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ì¸ê³µì§€ëŠ¥ ìŒì„±ì¸ì‹ ê¸°ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '140~160ì–µ', capital: '20ì–µì›' },
        { id: 'MN-2025-024', category: 'ì œì¡°ì—…', name: 'ìŠ¤ë§ˆíŠ¸í™ˆ ê¸°ê¸° ì œì¡°ì‚¬', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '140~160ì–µ', capital: '19ì–µì›' },
        { id: 'MN-2025-025', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ì—¬í–‰ ì˜ˆì•½ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '160~180ì–µ', capital: '20ì–µì›' },
        { id: 'MN-2025-026', category: 'ê¸ˆìœµ/í•€í…Œí¬', name: 'P2P ê¸ˆìœµ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '160~180ì–µ', capital: '22ì–µì›' },
        { id: 'MN-2025-027', category: 'êµìœ¡/ì—ë“€í…Œí¬', name: 'ì˜¨ë¼ì¸ í•™ì› í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '160~180ì–µ', capital: '21ì–µì›' },
        { id: 'MN-2025-028', category: 'ì œì¡°ì—…', name: 'ë¡œë´‡ ì œì¡° ê¸°ì—…', type: 'ì¤‘ê²¬ê¸°ì—…', priceRange: '180~200ì–µ', capital: '25ì–µì›' },
        { id: 'MN-2025-029', category: 'IT/ì†Œí”„íŠ¸ì›¨ì–´', name: 'ì‚¬ì´ë²„ ë³´ì•ˆ ì†”ë£¨ì…˜ ê¸°ì—…', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '180~200ì–µ', capital: '23ì–µì›' },
        { id: 'MN-2025-030', category: 'ì„œë¹„ìŠ¤ì—…', name: 'ê³µìœ ê²½ì œ í”Œë«í¼', type: 'ì¤‘ì†Œê¸°ì—…', priceRange: '180~200ì–µ', capital: '24ì–µì›' }
      ];

      // ë°ì´í„° ì„ê¸° (Fisher-Yates shuffle ì•Œê³ ë¦¬ì¦˜)
      function shuffleArray(array) {
        const shuffled = [...array];
        for (let i = shuffled.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
      }

      // LocalStorageì—ì„œ ì‹ ê·œ ë“±ë¡ ë°ì´í„° ë¡œë“œ
      const newSellersListings = JSON.parse(localStorage.getItem('mna_station_sellers_listings') || '[]');
      
      // ì‹ ê·œ ë“±ë¡ ë°ì´í„°ë¥¼ ìµœìƒë‹¨ì— ì¶”ê°€
      sellersData = [...newSellersListings, ...sellersData];
      
      // ê¸°ì¡´ ë”ë¯¸ë°ì´í„° ì„ê¸°
      const dummyData = sellersData.filter(item => !item.isNew);
      const shuffledDummy = shuffleArray(dummyData);
      
      // ì‹ ê·œ ë°ì´í„° + ì„ì¸ ë”ë¯¸ë°ì´í„°
      sellersData = [...newSellersListings, ...shuffledDummy];

      let container, loading;
      let currentPage = 0;
      const itemsPerPage = 9;
      let isLoading = false;

      function createItemHTML(item, index) {
        // ë§¤ë„ ìƒíƒœ ë¹„ìœ¨ì— ë§ê²Œ ë°°ë¶„ (ë§ˆê°ë¨ 30%, ë§¤ë„ëŒ€ê¸° 10%, ë§¤ë„ì¤‘ 60%)
        let status, statusClass;
        const remainder = index % 10;
        if (remainder < 3) {
          // 30%: ë§ˆê°ë¨
          status = 'ë§ˆê°ë¨';
          statusClass = 'status-closed';
        } else if (remainder < 4) {
          // 10%: ë§¤ë„ëŒ€ê¸°
          status = 'ë§¤ë„ëŒ€ê¸°';
          statusClass = 'status-waiting';
        } else {
          // 60%: ë§¤ë„ì¤‘
          status = 'ë§¤ë„ì¤‘';
          statusClass = 'status-matching';
        }
        
        return `
          <a href="#" class="list-item" data-item-id="${item.id}" data-item-index="${index}" ${item.isNew ? 'style="border: 2px solid #4db7ff;"' : ''}>
            <div class="item-header">
              <span class="item-id">${item.category}</span>
              <span class="item-category ${statusClass}">${status}${item.isNew ? ' <span style="background: #dc3545; color: white; padding: 2px 6px; border-radius: 10px; font-size: 10px; margin-left: 5px;">NEW</span>' : ''}</span>
            </div>
            <div class="item-title">${item.name}</div>
            <div class="item-info-grid">
              <div class="info-item">
                <span class="info-label">ì—…ì¢…</span>
                <span class="info-value">${item.category}</span>
              </div>
              <div class="info-item">
                <span class="info-label">ê¸°ì—…í˜•íƒœ</span>
                <span class="info-value">${item.type}</span>
              </div>
              <div class="info-item">
                <span class="info-label">í¬ë§ë§¤ë„ì•¡</span>
                <span class="info-value">${item.priceRange}</span>
              </div>
              <div class="info-item">
                <span class="info-label">ìë³¸ê¸ˆ</span>
                <span class="info-value">${item.capital}</span>
              </div>
            </div>
          </a>
        `;
      }

      function loadItems() {
        if (isLoading) {
          console.log('Already loading...');
          return;
        }
        if (!container || !loading) {
          console.error('Container or loading element not found in loadItems');
          return;
        }
        
        console.log('Loading items...', { currentPage, itemsPerPage, totalItems: sellersData.length });
        isLoading = true;
        loading.classList.add('active');

        setTimeout(() => {
          const start = currentPage * itemsPerPage;
          const end = start + itemsPerPage;
          const itemsToShow = sellersData.slice(start, end);

          console.log('Items to show:', itemsToShow.length);

          itemsToShow.forEach((item, localIndex) => {
            const globalIndex = start + localIndex;
            container.insertAdjacentHTML('beforeend', createItemHTML(item, globalIndex));
          });

          currentPage++;
          isLoading = false;
          loading.classList.remove('active');

          console.log('Items loaded. Current page:', currentPage);

          if (end >= sellersData.length) {
            console.log('All items loaded');
            return;
          }
        }, 500);
      }

      // Infinite scroll
      let scrollTimeout;
      function handleScroll() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
        const windowHeight = window.innerHeight || document.documentElement.clientHeight;
        const documentHeight = Math.max(
          document.body.scrollHeight,
          document.body.offsetHeight,
          document.documentElement.clientHeight,
          document.documentElement.scrollHeight,
          document.documentElement.offsetHeight
        );
        
        // ìŠ¤í¬ë¡¤ì´ í•˜ë‹¨ 500px ì´ë‚´ì— ë„ë‹¬í•˜ë©´ ë‹¤ìŒ í˜ì´ì§€ ë¡œë“œ
        if (scrollTop + windowHeight >= documentHeight - 500) {
          if (currentPage * itemsPerPage < sellersData.length && !isLoading) {
            loadItems();
          }
        }
      }

      window.addEventListener('scroll', () => {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(handleScroll, 100);
      }, { passive: true });

      // ì´ˆê¸° ë¡œë“œ í›„ì—ë„ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ë„ë¡ í™•ì¸
      window.addEventListener('load', () => {
        handleScroll();
      });

      // Back button handling
      const urlParams = new URLSearchParams(window.location.search);
      const fromSection = urlParams.get('from');
      
      // íˆìŠ¤í† ë¦¬ ìƒíƒœ ì €ì¥
      if (fromSection) {
        history.replaceState({ from: 'index', section: fromSection }, '', window.location.href);
      }

      // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸° ì²˜ë¦¬
      window.addEventListener('popstate', (e) => {
        if (e.state && e.state.from === 'index' && e.state.section) {
          window.location.href = `../index.html#s${e.state.section}`;
        } else if (fromSection) {
          window.location.href = `../index.html#s${fromSection}`;
        }
      });

      // DOMì´ ì¤€ë¹„ëœ í›„ ì‹¤í–‰
      function initializePage() {
        container = document.getElementById('listContainer');
        loading = document.getElementById('loading');
        
        if (!container || !loading) {
          console.error('DOM elements not found. Retrying...');
          setTimeout(initializePage, 100);
          return;
        }

        console.log('DOM elements found, initializing...');

        // ì´ë²¤íŠ¸ ìœ„ì„: ì»¨í…Œì´ë„ˆì— í´ë¦­ ì´ë²¤íŠ¸ í•œ ë²ˆë§Œ ë“±ë¡
        container.addEventListener('click', function(e) {
          const listItem = e.target.closest('.list-item');
          if (listItem) {
            e.preventDefault();
            const itemId = listItem.getAttribute('data-item-id');
            const itemIndex = parseInt(listItem.getAttribute('data-item-index'));
            const itemData = sellersData.find(d => d.id === itemId);
            if (itemData) {
              showCompanyDetail(itemData, itemIndex);
            }
          }
        });

        // Initial load
        console.log('Calling loadItems...');
        loadItems();
      }

      // window.onloadë¡œ í™•ì‹¤í•˜ê²Œ ì‹¤í–‰
      if (window.addEventListener) {
        window.addEventListener('load', function() {
          setTimeout(initializePage, 100);
        });
      } else {
        window.onload = function() {
          setTimeout(initializePage, 100);
        };
      }

      // í˜„ì¬ ëª¨ë‹¬ì— í‘œì‹œëœ ê¸°ì—… ì •ë³´ ì €ì¥
      let currentCompanyInfo = null;

      // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜
      function showCompanyDetail(item, index) {
        currentCompanyInfo = item;
        // ìƒíƒœ ê³„ì‚°
        let status, statusClass;
        const remainder = index % 10;
        if (remainder < 3) {
          status = 'ë§ˆê°ë¨';
          statusClass = 'status-closed';
        } else if (remainder < 4) {
          status = 'ë§¤ë„ëŒ€ê¸°';
          statusClass = 'status-waiting';
        } else {
          status = 'ë§¤ë„ì¤‘';
          statusClass = 'status-matching';
        }

        // ëª¨ë‹¬ ë‚´ìš© ìƒì„±
        const modal = document.getElementById('companyModal');
        const modalContent = modal.querySelector('.modal-content');
        
        modalContent.innerHTML = `
          <div class="modal-header">
            <div class="modal-title-section">
              <div class="modal-company-id">${item.id}</div>
              <div class="modal-company-name">${item.name}</div>
              <span class="modal-status ${statusClass}">${status}</span>
            </div>
            <button class="modal-close" onclick="closeCompanyModal()">&times;</button>
          </div>
          <div class="modal-body">
            <div class="modal-info-section">
              <div class="modal-info-title">ê¸°ë³¸ ì •ë³´</div>
              <div class="modal-info-grid">
                <div class="modal-info-item">
                  <span class="modal-info-label">ì—…ì¢…</span>
                  <span class="modal-info-value">${item.category}</span>
                </div>
                <div class="modal-info-item">
                  <span class="modal-info-label">ê¸°ì—…í˜•íƒœ</span>
                  <span class="modal-info-value">${item.type}</span>
                </div>
                <div class="modal-info-item">
                  <span class="modal-info-label">í¬ë§ ë§¤ë„ì•¡</span>
                  <span class="modal-info-value">${item.priceRange}</span>
                </div>
                <div class="modal-info-item">
                  <span class="modal-info-label">ìë³¸ê¸ˆ</span>
                  <span class="modal-info-value">${item.capital}</span>
                </div>
              </div>
            </div>
            <div class="modal-info-section">
              <div class="modal-info-title">ìƒì„¸ ì„¤ëª…</div>
              <div class="modal-description">
                ${item.name}ì€(ëŠ”) ${item.category} ë¶„ì•¼ì—ì„œ í™œë™í•˜ëŠ” ${item.type}ì…ë‹ˆë‹¤. 
                ë§¤ê°ì„ ê³ ë ¤í•˜ê³  ìˆìœ¼ë©°, í¬ë§ ë§¤ë„ì•¡ì€ ${item.priceRange} ë²”ìœ„ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 
                ìë³¸ê¸ˆì€ ${item.capital}ì´ë©°, ì•ˆì •ì ì¸ ì‚¬ì—… ê¸°ë°˜ê³¼ ì„±ì¥ ê°€ëŠ¥ì„±ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
                ì „ëµì  ì¸ìˆ˜ìì™€ì˜ í˜‘ìƒì„ í†µí•´ ìƒí˜¸ ì„±ì¥í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤.
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="modal-btn modal-btn-secondary" onclick="closeCompanyModal()">ë‹«ê¸°</button>
            <button class="modal-btn modal-btn-primary" onclick="contactCompany('${item.id}')">ìƒë‹´ ì‹ ì²­</button>
          </div>
        `;

        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeCompanyModal() {
        const modal = document.getElementById('companyModal');
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }

      // í˜„ì¬ ëª¨ë‹¬ì— í‘œì‹œëœ ê¸°ì—… ì •ë³´ ì €ì¥
      let currentCompanyInfo = null;

      function contactCompany(companyId) {
        // í˜„ì¬ ëª¨ë‹¬ì— í‘œì‹œëœ ê¸°ì—… ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const itemData = sellersData.find(d => d.id === companyId);
        if (!itemData) return;

        currentCompanyInfo = itemData;

        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
        const currentUser = JSON.parse(localStorage.getItem('mna_station_current_user') || 'null');
        const isLoggedIn = !!currentUser;

        if (!isLoggedIn) {
          // ë¡œê·¸ì¸ ì•ˆë‚´ ëª¨ë‹¬ í‘œì‹œ
          showLoginRequiredModal();
        } else {
          // ë¡œê·¸ì¸ë˜ì–´ ìˆìœ¼ë©´ ìƒë‹´ ì‹ ì²­ ì²˜ë¦¬
          submitConsultationRequest(currentUser, itemData, 'seller');
        }
      }

      function showLoginRequiredModal() {
        const loginModal = document.getElementById('loginRequiredModal');
        loginModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeLoginRequiredModal() {
        const loginModal = document.getElementById('loginRequiredModal');
        loginModal.classList.remove('active');
        document.body.style.overflow = '';
      }

      function goToLogin() {
        closeLoginRequiredModal();
        closeCompanyModal();
        window.location.href = '../account/login.html';
      }

      function submitConsultationRequest(user, companyInfo, type) {
        // ìƒë‹´ ì‹ ì²­ ë°ì´í„° ìƒì„±
        const consultationData = {
          id: 'CONS-' + Date.now(),
          userId: user.id || user.email,
          userName: user.name || user.email,
          userEmail: user.email,
          companyId: companyInfo.id,
          companyName: companyInfo.name,
          companyType: companyInfo.type,
          companyCategory: companyInfo.category,
          priceRange: companyInfo.priceRange,
          capital: companyInfo.capital,
          consultationType: type, // 'buyer' or 'seller'
          status: 'ëŒ€ê¸°ì¤‘',
          createdAt: new Date().toISOString(),
          page: 'sellers' // ë˜ëŠ” 'buyers'
        };

        // LocalStorageì— ì €ì¥
        const consultations = JSON.parse(localStorage.getItem('mna_station_consultations') || '[]');
        consultations.push(consultationData);
        localStorage.setItem('mna_station_consultations', JSON.stringify(consultations));

        // ì„±ê³µ ë©”ì‹œì§€
        alert(`${companyInfo.name}ì— ëŒ€í•œ ìƒë‹´ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
        closeCompanyModal();
      }

      // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
      document.addEventListener('click', function(e) {
        const companyModal = document.getElementById('companyModal');
        const loginModal = document.getElementById('loginRequiredModal');
        if (e.target === companyModal) {
          closeCompanyModal();
        }
        if (e.target === loginModal) {
          closeLoginRequiredModal();
        }
      });

      // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          const loginModal = document.getElementById('loginRequiredModal');
          if (loginModal && loginModal.classList.contains('active')) {
            closeLoginRequiredModal();
          } else {
            closeCompanyModal();
          }
        }
      });

      // âš ï¸ ì¤‘ìš”: í–„ë²„ê±° ë©”ë‰´ëŠ” menu.jsì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤
    </script>
    
    <!-- í–„ë²„ê±° ë©”ë‰´ ê³µí†µ ëª¨ë“ˆ -->
    <script src="../assets/js/header.js"></script>
    <script src="../assets/js/menu.js"></script>
    
    <!-- ê¸°ì—… ìƒì„¸ ì •ë³´ ëª¨ë‹¬ -->
    <div id="companyModal" class="company-modal">
      <div class="modal-content">
        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
      </div>
    </div>

    <!-- ë¡œê·¸ì¸ ì•ˆë‚´ ëª¨ë‹¬ -->
    <div id="loginRequiredModal" class="company-modal">
      <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
          <div class="modal-title-section">
            <div class="modal-company-name">ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</div>
          </div>
          <button class="modal-close" onclick="closeLoginRequiredModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div style="text-align: center; padding: var(--spacing-lg) 0;">
            <p style="font-size: var(--font-size-base); color: var(--text-primary); line-height: 1.6; margin-bottom: var(--spacing-lg);">
              ìƒë‹´ ì‹ ì²­ì€ ë¡œê·¸ì¸ í›„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
              ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn modal-btn-secondary" onclick="closeLoginRequiredModal()">ì·¨ì†Œ</button>
          <button class="modal-btn modal-btn-primary" onclick="goToLogin()">ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™</button>
        </div>
      </div>
    </div>

    <!-- âš ï¸ ì¤‘ìš”: í•˜ë‹¨íƒ­ ì‹œì‘ - ì‚­ì œí•˜ì§€ ë§ˆì„¸ìš”! -->
    <nav class="bottom-tabs">
      <div class="tab-item" data-index="0" onclick="window.location.href='../index.html'">
        <div class="icon">ğŸ </div>
        <div class="label">í™ˆ</div>
      </div>
      <div class="tab-item active" data-index="1" onclick="window.location.href='sellers.html'">
        <div class="icon">ğŸ“</div>
        <div class="label">ë“±ë¡</div>
      </div>
      <div class="tab-item" data-index="3" onclick="window.location.href='../insights/cases.html'">
        <div class="icon">ğŸ“Š</div>
        <div class="label">ì¸ì‚¬ì´íŠ¸</div>
      </div>
      <div class="tab-item" data-index="4" onclick="window.location.href='../support/consult.html'">
        <div class="icon">ğŸ’¬</div>
        <div class="label">ìƒë‹´</div>
      </div>
      <div class="tab-item" data-index="5" onclick="window.location.href='../account/mypage.html'">
        <div class="icon">ğŸ‘¤</div>
        <div class="label">ë§ˆì´í˜ì´ì§€</div>
      </div>
    </nav>
    <!-- âš ï¸ ì¤‘ìš”: í•˜ë‹¨íƒ­ ë -->
  </body>
</html>
